<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tools & Ecosystem - Cornerstone.js Tutorial</title>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #2ecc71;
            --warning: #f39c12;
            --danger: #e74c3c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }
        
        header {
            background-color: var(--secondary);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        
        .logo i {
            margin-right: 10px;
            color: var(--primary);
        }
        
        .nav-links {
            display: flex;
            list-style: none;
        }
        
        .nav-links li {
            margin-left: 20px;
        }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            padding: 5px 10px;
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .nav-links a:hover {
            background-color: var(--primary);
        }
        
        .nav-links a.active {
            background-color: var(--primary);
        }
        
        .hamburger {
            display: none;
            cursor: pointer;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
        }
        
        main {
            padding: 2rem 0;
        }
        
        .hero {
            background-color: var(--primary);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
        }
        
        section {
            margin-bottom: 3rem;
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        h2 {
            color: var(--secondary);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary);
        }
        
        h3 {
            color: var(--secondary);
            margin: 1.5rem 0 1rem;
        }
        
        p {
            margin-bottom: 1rem;
        }
        
        ul, ol {
            margin-bottom: 1rem;
            padding-left: 2rem;
        }
        
        li {
            margin-bottom: 0.5rem;
        }
        
        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 1.5rem;
        }
        
        .tool-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        .tool-card h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .tool-card p {
            font-size: 0.9rem;
            color: #666;
        }
        
        code {
            background-color: #f1f1f1;
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
        }
        
        pre {
            background-color: #f1f1f1;
            padding: 1rem;
            border-radius: 4px;
            overflow-x: auto;
            margin-bottom: 1.5rem;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            text-decoration: none;
            transition: background-color 0.3s ease;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: #2980b9;
        }
        
        .tab-container {
            margin-bottom: 2rem;
        }
        
        .tabs {
            display: flex;
            list-style: none;
            padding: 0;
            margin-bottom: 1rem;
            border-bottom: 1px solid #ddd;
        }
        
        .tabs li {
            margin-right: 10px;
            margin-bottom: 0;
        }
        
        .tabs button {
            padding: 0.5rem 1rem;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            color: #666;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .tabs button:hover {
            color: var(--primary);
        }
        
        .tabs button.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        footer {
            background-color: var(--secondary);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }
        
        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .footer-links {
            display: flex;
            list-style: none;
            margin-bottom: 1rem;
        }
        
        .footer-links li {
            margin: 0 15px;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        
        .footer-links a:hover {
            color: var(--primary);
        }
        
        .copyright {
            font-size: 0.9rem;
            color: #bbb;
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 60px;
                left: 0;
                width: 100%;
                background-color: var(--secondary);
                padding: 1rem 0;
            }
            
            .nav-links.show {
                display: flex;
            }
            
            .nav-links li {
                margin: 10px 20px;
            }
            
            .hamburger {
                display: block;
            }
            
            .tool-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <nav>
                <a href="index.html" class="logo">
                    <span>Cornerstone.js Tutorial</span>
                </a>
                <button class="hamburger" id="hamburger">â˜°</button>
                <ul class="nav-links" id="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="core-concepts.html">Core Concepts</a></li>
                    <li><a href="tools-ecosystem.html" class="active">Tools & Ecosystem</a></li>
                    <li><a href="progressive-loading.html">Progressive Loading</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="hero">
                <h1>Tools & Ecosystem</h1>
                <p>Explore the powerful tools and ecosystem that make Cornerstone.js and Cornerstone3D the leading frameworks for medical imaging visualization in web applications.</p>
            </div>

            <section id="overview">
                <h2>Overview</h2>
                <p>Cornerstone.js and Cornerstone3D provide a comprehensive set of tools for medical image manipulation, annotation, segmentation, and synchronization. These tools enable developers to build sophisticated medical imaging applications with advanced functionality.</p>
                <p>This guide will help you understand the essential tools available in the Cornerstone ecosystem and how to set up your development environment.</p>
            </section>

            <section id="dev-environment">
                <h2>Setting Up Your Development Environment</h2>
                <p>To get started with Cornerstone.js and Cornerstone3D, you'll need to set up your development environment:</p>
                
                <h3>Prerequisites</h3>
                <ul>
                    <li>Node.js (v14 or later recommended)</li>
                    <li>npm or yarn package manager</li>
                    <li>A modern web browser (Chrome, Firefox, Safari, or Edge)</li>
                </ul>
                
                <h3>Installation</h3>
                <p>You can install Cornerstone packages using npm:</p>
                <pre><code>// Install Cornerstone Core
npm install @cornerstonejs/core

// Install Cornerstone Tools
npm install @cornerstonejs/tools

// For 3D support
npm install @cornerstonejs/streaming-image-volume-loader</code></pre>
                
                <h3>Basic Project Setup</h3>
                <p>Create a basic HTML file structure:</p>
                <pre><code>&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
    &lt;title&gt;Cornerstone App&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id="cornerstone-element" style="width: 500px; height: 500px;"&gt;&lt;/div&gt;
    
    &lt;script type="module"&gt;
        import * as cornerstone from '@cornerstonejs/core';
        import * as cornerstoneTools from '@cornerstonejs/tools';
        
        // Initialize Cornerstone
        await cornerstone.init();
        
        // Your code here
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
            </section>

            <section id="tools-categories">
                <h2>Cornerstone Tools Categories</h2>
                
                <div class="tab-container">
                    <ul class="tabs">
                        <li><button class="tab-btn active" data-tab="manipulation">Manipulation Tools</button></li>
                        <li><button class="tab-btn" data-tab="annotation">Annotation Tools</button></li>
                        <li><button class="tab-btn" data-tab="segmentation">Segmentation Tools</button></li>
                        <li><button class="tab-btn" data-tab="synchronization">Synchronization Tools</button></li>
                    </ul>
                    
                    <div id="manipulation" class="tab-content active">
                        <h3>Manipulation Tools</h3>
                        <p>These tools allow users to interact with and manipulate the displayed images:</p>
                        
                        <div class="tool-grid">
                            <div class="tool-card">
                                <h4>ZoomTool</h4>
                                <p>Enables zooming in and out of images using mouse drag or touch gestures.</p>
                            </div>
                            <div class="tool-card">
                                <h4>PanTool</h4>
                                <p>Allows panning/moving the image within the viewport.</p>
                            </div>
                            <div class="tool-card">
                                <h4>StackScrollMouseWheelTool</h4>
                                <p>Enables scrolling through a stack of images using the mouse wheel.</p>
                            </div>
                            <div class="tool-card">
                                <h4>WindowLevelTool</h4>
                                <p>Adjusts the window/level (contrast and brightness) of the displayed image.</p>
                            </div>
                        </div>
                        
                        <h3>Implementation Example</h3>
                        <pre><code>// Add tools to Cornerstone
cornerstoneTools.addTool(cornerstoneTools.ZoomTool);
cornerstoneTools.addTool(cornerstoneTools.PanTool);
cornerstoneTools.addTool(cornerstoneTools.StackScrollMouseWheelTool);
cornerstoneTools.addTool(cornerstoneTools.WindowLevelTool);

// Set the active tool
cornerstoneTools.setToolActive('Zoom', { mouseButtonMask: 1 });
cornerstoneTools.setToolActive('Pan', { mouseButtonMask: 2 });
cornerstoneTools.setToolActive('StackScrollMouseWheel', { });
cornerstoneTools.setToolActive('WindowLevel', { mouseButtonMask: 4 });</code></pre>
                    </div>
                    
                    <div id="annotation" class="tab-content">
                        <h3>Annotation Tools</h3>
                        <p>These tools allow users to create various annotations on medical images:</p>
                        
                        <div class="tool-grid">
                            <div class="tool-card">
                                <h4>LengthTool</h4>
                                <p>Measures the length between two points.</p>
                            </div>
                            <div class="tool-card">
                                <h4>AngleTool</h4>
                                <p>Measures angles between three points.</p>
                            </div>
                            <div class="tool-card">
                                <h4>EllipticalROITool</h4>
                                <p>Creates an elliptical region of interest.</p>
                            </div>
                            <div class="tool-card">
                                <h4>RectangleROITool</h4>
                                <p>Creates a rectangular region of interest.</p>
                            </div>
                            <div class="tool-card">
                                <h4>CircleROITool</h4>
                                <p>Creates a circular region of interest.</p>
                            </div>
                            <div class="tool-card">
                                <h4>PlanarFreehandROITool</h4>
                                <p>Creates a freehand region of interest.</p>
                            </div>
                            <div class="tool-card">
                                <h4>BidirectionalTool</h4>
                                <p>Creates perpendicular measurements, commonly used in oncology.</p>
                            </div>
                            <div class="tool-card">
                                <h4>ArrowAnnotateTool</h4>
                                <p>Creates an arrow annotation with text.</p>
                            </div>
                            <div class="tool-card">
                                <h4>CobbAngleTool</h4>
                                <p>Measures the angle between two lines, commonly used for spinal measurements.</p>
                            </div>
                            <div class="tool-card">
                                <h4>ProbeTool</h4>
                                <p>Displays the pixel value at a specific point.</p>
                            </div>
                            <div class="tool-card">
                                <h4>SplineROITool</h4>
                                <p>Creates a spline-based region of interest.</p>
                            </div>
                        </div>
                        
                        <h3>Implementation Example</h3>
                        <pre><code>// Add annotation tools
cornerstoneTools.addTool(cornerstoneTools.LengthTool);
cornerstoneTools.addTool(cornerstoneTools.AngleTool);
cornerstoneTools.addTool(cornerstoneTools.EllipticalROITool);

// Set the active tool
cornerstoneTools.setToolActive('Length', { mouseButtonMask: 1 });</code></pre>
                    </div>
                    
                    <div id="segmentation" class="tab-content">
                        <h3>Segmentation Tools</h3>
                        <p>These tools enable creating and editing segmentations in medical images:</p>
                        
                        <div class="tool-grid">
                            <div class="tool-card">
                                <h4>Polymorphic Segmentation</h4>
                                <p>Allows for flexible segmentation approaches using different algorithms and techniques.</p>
                            </div>
                            <div class="tool-card">
                                <h4>Labelmap Interpolation</h4>
                                <p>Automatically interpolates segmentations between slices to create smooth 3D segmentations.</p>
                            </div>
                        </div>
                        
                        <h3>Implementation Example</h3>
                        <pre><code>// Initialize segmentation
const segmentationModule = cornerstoneTools.getModule('segmentation');

// Create a segmentation
const segmentationId = 'mySegmentation';
segmentationModule.createSegmentation(segmentationId);

// Add a segment
segmentationModule.addSegment(segmentationId, {
  label: 'Tumor',
  color: [255, 0, 0]
});</code></pre>
                    </div>
                    
                    <div id="synchronization" class="tab-content">
                        <h3>Synchronization Tools</h3>
                        <p>These tools enable synchronization between multiple viewports:</p>
                        
                        <div class="tool-grid">
                            <div class="tool-card">
                                <h4>WindowLevel Synchronizer</h4>
                                <p>Synchronizes window/level adjustments across multiple viewports.</p>
                            </div>
                            <div class="tool-card">
                                <h4>Camera Synchronizer</h4>
                                <p>Synchronizes camera position, zoom, and orientation across multiple 3D viewports.</p>
                            </div>
                        </div>
                        
                        <h3>Implementation Example</h3>
                        <pre><code>// Create synchronization groups
const syncGroup = 'group1';

// Add viewports to synchronization group
cornerstoneTools.synchronizers.addViewport(viewport1, syncGroup);
cornerstoneTools.synchronizers.addViewport(viewport2, syncGroup);

// Enable window/level synchronization
cornerstoneTools.synchronizers.enableWindowLevelSync(syncGroup);</code></pre>
                    </div>
                </div>
            </section>

            <section id="web-workers">
                <h2>Using Web Workers</h2>
                <p>Web Workers are crucial for handling computationally intensive tasks in Cornerstone applications without blocking the main UI thread.</p>
                
                <h3>Benefits of Web Workers</h3>
                <ul>
                    <li>Improved application responsiveness during heavy processing</li>
                    <li>Parallel processing of image data</li>
                    <li>Smoother user experience during complex operations</li>
                </ul>
                
                <h3>Common Use Cases</h3>
                <ul>
                    <li>Image processing and filtering</li>
                    <li>Volume rendering calculations</li>
                    <li>Segmentation algorithms</li>
                    <li>DICOM parsing and processing</li>
                </ul>
                
                <h3>Implementation Example</h3>
                <pre><code>// In your main application
const worker = new Worker('imageProcessingWorker.js');

worker.onmessage = function(e) {
  const processedImageData = e.data;
  // Update the display with processed data
};

// Send data to the worker
worker.postMessage({
  imageData: pixelData,
  operation: 'threshold',
  threshold: 100
});

// In imageProcessingWorker.js
self.onmessage = function(e) {
  const { imageData, operation, threshold } = e.data;
  
  // Process the image data based on the operation
  let result;
  if (operation === 'threshold') {
    result = performThreshold(imageData, threshold);
  }
  
  // Send the result back to the main thread
  self.postMessage(result);
};</code></pre>
            </section>

            <section id="ecosystem">
                <h2>Cornerstone Ecosystem</h2>
                <p>The Cornerstone ecosystem includes several libraries and tools that work together:</p>
                
                <div class="tool-grid">
                    <div class="tool-card">
                        <h4>Cornerstone Core</h4>
                        <p>The foundation library for displaying medical images.</p>
                    </div>
                    <div class="tool-card">
                        <h4>Cornerstone Tools</h4>
                        <p>Provides interaction tools for image manipulation and annotation.</p>
                    </div>
                    <div class="tool-card">
                        <h4>Cornerstone WADO Image Loader</h4>
                        <p>Loads DICOM images via WADO protocol.</p>
                    </div>
                    <div class="tool-card">
                        <h4>Cornerstone Web Image Loader</h4>
                        <p>Loads standard web images (PNG, JPEG) into Cornerstone.</p>
                    </div>
                    <div class="tool-card">
                        <h4>dicomParser</h4>
                        <p>Parses DICOM P10 files into a JavaScript object.</p>
                    </div>
                    <div class="tool-card">
                        <h4>dcmjs</h4>
                        <p>JavaScript implementation of DICOM manipulation.</p>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <ul class="footer-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="core-concepts.html">Core Concepts</a></li>
                    <li><a href="tools-ecosystem.html">Tools & Ecosystem</a></li>
                    <li><a href="progressive-loading.html">Progressive Loading</a></li>
                </ul>
                <p class="copyright">&copy; 2023 Cornerstone.js Tutorial. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile navigation toggle
        document.getElementById('hamburger').addEventListener('click', function() {
            document.getElementById('nav-links').classList.toggle('show');
        });
        
        // Tab functionality
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');
        
        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const tabId = btn.getAttribute('data-tab');
                
                // Remove active class from all buttons and contents
                tabBtns.forEach(b => b.classList.remove('active'));
                tabContents.forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked button and corresponding content
                btn.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });
    </script>
</body>
</html>